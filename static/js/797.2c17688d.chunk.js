"use strict";(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[797],{2880:(e,s,n)=>{n.d(s,{Dx:()=>c,s8:()=>d,yN:()=>i});var t=n(1933),a=n(5294),o=n(4333),r=n(6591);const l=async e=>{const{data:s}=await a.Z.get("".concat(r.fM,"/").concat(e)),n=s.types.map((e=>{let{type:{name:s}}=e;return{[s]:o.U[s]}})),t=s.sprites.other.home.front_default||s.sprites.other.home.front_shiny||s.sprites.other.dream_world.front_shiny||s.sprites.other.dream_world.front_default||s.sprites.front_shiny||s.sprites.front_default;return{name:s.name,id:s.id,image:t,types:n}},i=async e=>{const{data:s}=await a.Z.get(e.url),n=s.types.map((e=>{let{type:{name:s}}=e;return{[s]:o.U[s]}})),t=s.sprites.other.home.front_default||s.sprites.other.home.front_default||s.sprites.front_shiny||s.sprites.front_default;return{name:s.name,id:s.id,image:t,types:n}},c=e=>(0,t.useQuery)(["pokemonDataByUrl",e],(async()=>{const s=e.map((e=>i(e)));return(await Promise.all(s)).filter((e=>null!==e))})),d=()=>(0,t.useQuery)("randomPokemonData",(async()=>{const e=((e,s)=>{const n=[];for(;n.length<e;){const e=Math.floor(Math.random()*s)+1;n.includes(e)||n.push(e)}return n})(80,1302);try{const s=e.map((e=>l(e))),n=function(e,s){const n=[];for(let t=0;t<e.length;t+=s)n.push(e.slice(t,t+s));return n}(s,8).map((e=>Promise.race(e))),t=await Promise.all(n);if(null!==t)return t;throw new Error("No valid Pok\xe9mon data")}catch(s){throw console.error("Error fetching random Pok\xe9mon data:",s),s}}),{refetchInterval:1e4})},620:(e,s,n)=>{n.d(s,{Z:()=>p});n(2791);var t=n(71),a=n(6355),o=n(2178),r=n(4740),l=n(7689),i=n(6448),c=n(7264),d=n(6591),m=n(184);const p=function(e){let{pokemons:s}=e;const n=(0,r.T)(),p=(0,l.s0)(),u=(0,l.TH)();return(0,m.jsx)("div",{className:"pokemon-card-grid-container",children:(0,m.jsx)("div",{className:"pokemon-card-grid",children:s&&s.length>0&&(null===s||void 0===s?void 0:s.map((e=>(0,m.jsxs)("div",{className:"pokemon-card",children:[(0,m.jsx)("div",{className:"pokemon-card-list",children:u.pathname.includes("/pokemon")||u.pathname.includes("/search")?(0,m.jsx)(a.wEH,{className:"plus",onClick:()=>n((0,c.T)(e))}):(0,m.jsx)(a.Xm5,{className:"trash",onClick:async()=>{await n((0,o.Af)(e)),n((0,i.fz)("Pokemon Removed Successfully."))}})}),(0,m.jsx)("div",{className:"pokemon-card-compare",children:(0,m.jsx)(t.pIN,{onClick:()=>{n((0,o.a$)(e)),n((0,i.fz)("".concat(e.name," has been added to compare queue.")))}})}),(0,m.jsx)("h3",{className:"pokemon-card-title",children:e.name}),(0,m.jsx)("img",{src:e.image,alt:"",className:"pokemon-card-image",loading:"lazy",onClick:()=>{n((0,i.vF)(d.X$.description)),n((0,o.H4)(void 0)),p("/pokemon/".concat(e.id))}}),(0,m.jsx)("div",{className:"pokemon-card-types",children:e.types.map(((e,s)=>{const n=Object.keys(e);return(0,m.jsxs)("div",{className:"pokemon-card-types-type",children:[(0,m.jsx)("img",{src:e[n[0]].image,alt:"pokemon type",className:"pokemon-card-types-type-image",loading:"lazy"}),(0,m.jsx)("h6",{className:"pokemon-card-types-type-text",children:n[0]})]},s)}))})]},e.id))))})})}},2797:(e,s,n)=>{n.r(s),n.d(s,{default:()=>b});var t=n(2791),a=n(5328),o=n(7689),r=n(5294),l=n(4740),i=n(620),c=n(4248),d=n(2880),m=n(184);const p=function(){const[e,s]=(0,t.useState)(!1),n=(0,l.T)(),a=(0,l.C)((e=>{let{pokemon:s}=e;return s})),[o,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{if(a.currentPokemon){var e;const t=null===(e=a.currentPokemon)||void 0===e?void 0:e.evolution.map((e=>{const s=e.pokemon.url;return(0,d.yN)({url:s})}));if(t)try{const e=await Promise.all(t);r(e),s(!0)}catch(n){console.error("Error fetching evolution data:",n)}}})()}),[n,a.currentPokemon]),(0,m.jsx)("div",{className:"page",children:e?(0,m.jsx)(i.Z,{pokemons:o}):(0,m.jsx)(c.Z,{})})};const u=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:s}}=e;return s}));return(0,m.jsx)("div",{className:"pokemon-locations",children:(0,m.jsx)("ul",{className:"pokemon-locations-list",children:null===e||void 0===e?void 0:e.encounters.map((e=>(0,m.jsx)("li",{className:"pokemon-location",children:e},e)))})})};const h=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:s}}=e;return s}));return(0,m.jsxs)("div",{className:"page capable-moves",children:[(0,m.jsx)("h1",{className:"capable-moves-title",children:"Abilities"}),(0,m.jsx)("ul",{className:"capable-moves-list ability",children:null===e||void 0===e?void 0:e.pokemonAbilities.abilities.map((e=>(0,m.jsx)("li",{className:"move",children:e},e)))}),(0,m.jsx)("h1",{className:"capable-moves-title",children:"Moves"}),(0,m.jsx)("ul",{className:"capable-moves-list",children:null===e||void 0===e?void 0:e.pokemonAbilities.moves.map((e=>(0,m.jsx)("li",{className:"move",children:e},e)))})]})};var v=n(4333),j=n(7264),x=n(6448),k=n(6591);function f(e){let{data:s}=e;const n=(0,l.T)();(0,t.useEffect)((()=>{document.querySelectorAll("progress").forEach((e=>{e.style.width="10rem"}))}),[]);const a=(e,s)=>{const n=new Set;return e.forEach((e=>{v.U[e][s].forEach((e=>{n.has(e)||n.add(e[0].toUpperCase()+e.slice(1))}))})),Array.from(n)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("h1",{className:"name",children:null===s||void 0===s?void 0:s.name}),(0,m.jsxs)("h3",{children:["Type: ",null===s||void 0===s?void 0:s.types.join(" - ")]}),(0,m.jsxs)("h3",{children:["Evolution: ",null===s||void 0===s?void 0:s.evolutionLevel]}),(0,m.jsx)("button",{onClick:()=>n((0,x.vF)(k.X$.evolution)),children:"See next evolution"})]}),(0,m.jsx)("div",{className:"stats",children:(0,m.jsx)("ul",{children:null===s||void 0===s?void 0:s.stats.map((e=>(0,m.jsxs)("li",{children:[e.name,": ",e.value,(0,m.jsx)("progress",{max:100,value:e.value})]},e.name)))})}),(0,m.jsxs)("div",{className:"battle-stats",children:[(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Strengths:"}),(0,m.jsx)("span",{children:a(null===s||void 0===s?void 0:s.types,"strength").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Weakness:"}),(0,m.jsx)("span",{children:a(null===s||void 0===s?void 0:s.types,"weakness").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Resistant:"}),(0,m.jsx)("span",{children:a(null===s||void 0===s?void 0:s.types,"resistance").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Vulnerable:"}),(0,m.jsx)("span",{children:a(null===s||void 0===s?void 0:s.types,"vulnerable").join(", ")})]})]}),(0,m.jsx)("button",{onClick:()=>n((0,j.T)(s)),className:"add-pokemon",children:"Add Pokemon"})]})]})}function y(e){let{image:s}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"circle-container",children:(0,m.jsxs)("div",{className:"outer-circle",children:[(0,m.jsx)("div",{className:"inner-circle",children:(0,m.jsx)("img",{src:s,alt:""})}),(0,m.jsxs)("div",{className:"lines",children:[(0,m.jsx)("div",{className:"line line-1"}),(0,m.jsx)("div",{className:"line line-2"})]})]})})})}const g=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:s}}=e;return s}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{data:e}),e&&(0,m.jsx)(y,{image:e.image})]})};var N=n(2178);const b=(0,a.Z)((function(){const e=(0,o.UO)(),s=(0,l.T)(),n=(0,l.C)((e=>{let{app:{currentPokemonTab:s}}=e;return s})),a=(0,l.C)((e=>{let{pokemon:{currentPokemon:s}}=e;return s}));(0,t.useEffect)((()=>{s((0,x.vF)(k.X$.description))}),[s]);const i=(0,t.useCallback)(((e,s,n)=>e.evolves_to.length?(n.push({pokemon:{...e.species,url:e.species.url.replace("pokemon-species","pokemon")},level:s}),i(e.evolves_to[0],s+1,n)):n.push({pokemon:{...e.species,url:e.species.url.replace("pokemon-species","pokemon")},level:s})),[]),d=(0,t.useCallback)((e=>{const s=[];return i(e,1,s),s}),[i]),[v,j]=(0,t.useState)(!0),f=(0,t.useCallback)((async n=>{const{data:t}=await r.Z.get("".concat(k.fM,"/").concat(e.id)),{data:a}=await r.Z.get(t.location_area_encounters),{data:{evolution_chain:{url:o}}}=await r.Z.get("".concat(k.Op,"/").concat(t.id)),{data:l}=await r.Z.get(o),i={abilities:t.abilities.map((e=>{let{ability:s}=e;return s.name})),moves:t.moves.map((e=>{let{move:s}=e;return s.name}))},c=[],m=d(l.chain);let p;p=m.find((e=>{let{pokemon:s}=e;return s.name===t.name})).level,a.forEach((e=>{c.push(e.location_area.name.toUpperCase().split("-").join(" "))}));const u=await t.stats.map((e=>{let{stat:s,base_stat:n}=e;return{name:s.name,value:n}}));s((0,N.H4)({id:t.id,name:t.name,types:t.types.map((e=>{let{type:{name:s}}=e;return s})),image:t.sprites.other.home.front_default||t.sprites.other.home.front_shiny||t.sprites.other.dream_world.front_shiny||t.sprites.other.dream_world.front_default||t.sprites.front_shiny||t.sprites.front_default,stats:u,encounters:c,evolutionLevel:p,evolution:m,pokemonAbilities:i})),j(!1)}),[e.id,s,d]);return(0,t.useEffect)((()=>{f()}),[e.id,f]),(0,m.jsx)(m.Fragment,{children:!v&&a?(0,m.jsxs)(m.Fragment,{children:[n===k.X$.description&&(0,m.jsx)(g,{}),n===k.X$.evolution&&(0,m.jsx)(p,{}),n===k.X$.locations&&(0,m.jsx)(u,{}),n===k.X$.moves&&(0,m.jsx)(h,{})]}):(0,m.jsx)(c.Z,{})})}))}}]);
//# sourceMappingURL=797.2c17688d.chunk.js.map